{
    "annotations": {
        "list": [
            {
                "builtIn": 1,
                "datasource": "-- Grafana --",
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "type": "dashboard"
            }
        ]
    },
    "editable": true,
    "gnetId": null,
    "graphTooltip": 0,
    "id": 1,
    "links": [],
    "panels": [
        {
            "collapsed": false,
            "gridPos": {"h": 1, "w": 24, "x": 0, "y": 0},
            "id": 100,
            "panels": [],
            "title": "HTTP Metrics",
            "type": "row"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {
                "defaults": {"custom": {}},
                "overrides": []
            },
            "gridPos": {"h": 8, "w": 12, "x": 0, "y": 1},
            "id": 2,
            "options": {"alertThreshold": true},
            "targets": [
                {
                    "expr": "sum by (status, method) (rate(http_requests_total[5m]))",
                    "legendFormat": "{{method}} - {{status}}",
                    "refId": "A"
                }
            ],
            "title": "HTTP Requests",
            "type": "timeseries"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {
                "defaults": {"custom": {}, "unit": "s"},
                "overrides": []
            },
            "gridPos": {"h": 8, "w": 12, "x": 12, "y": 1},
            "id": 4,
            "targets": [
                {
                    "expr": "histogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket[5m])) by (le, endpoint))",
                    "legendFormat": "{{endpoint}}",
                    "refId": "A"
                }
            ],
            "title": "HTTP Request Duration (95th percentile)",
            "type": "timeseries"
        },
        {
            "collapsed": false,
            "gridPos": {"h": 1, "w": 24, "x": 0, "y": 9},
            "id": 101,
            "panels": [],
            "title": "Game Metrics",
            "type": "row"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {
                "defaults": {
                    "mappings": [],
                    "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}
                }
            },
            "gridPos": {"h": 4, "w": 6, "x": 0, "y": 10},
            "id": 6,
            "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
            "targets": [{"expr": "wordle_active_games", "refId": "A"}],
            "title": "Active Games",
            "type": "stat"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {
                "defaults": {
                    "mappings": [],
                    "thresholds": {"mode": "absolute", "steps": [{"color": "blue", "value": null}]}
                }
            },
            "gridPos": {"h": 4, "w": 6, "x": 6, "y": 10},
            "id": 8,
            "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
            "targets": [{"expr": "sum(wordle_game_start_total)", "refId": "A"}],
            "title": "Games Started",
            "type": "stat"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {
                "defaults": {
                    "mappings": [],
                    "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}
                }
            },
            "gridPos": {"h": 4, "w": 6, "x": 12, "y": 10},
            "id": 10,
            "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
            "targets": [{"expr": "sum(wordle_game_complete_total)", "refId": "A"}],
            "title": "Games Completed",
            "type": "stat"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {
                "defaults": {
                    "mappings": [],
                    "thresholds": {"mode": "absolute", "steps": [{"color": "orange", "value": null}]}
                }
            },
            "gridPos": {"h": 4, "w": 6, "x": 18, "y": 10},
            "id": 12,
            "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
            "targets": [{"expr": "sum(wordle_game_abandoned_total)", "refId": "A"}],
            "title": "Games Abandoned",
            "type": "stat"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {"defaults": {}, "overrides": []},
            "gridPos": {"h": 6, "w": 12, "x": 0, "y": 14},
            "id": 14,
            "options": {"displayMode": "gradient", "orientation": "horizontal", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "showUnfilled": true},
            "targets": [{"expr": "sum by (attempts) (wordle_word_guessed_total)", "legendFormat": "{{attempts}} attempts", "refId": "A"}],
            "title": "Word Guessed Distribution",
            "type": "bargauge"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {"defaults": {}, "overrides": []},
            "gridPos": {"h": 6, "w": 12, "x": 12, "y": 14},
            "id": 16,
            "targets": [{"expr": "sum by (type) (rate(errors_total[5m]))", "legendFormat": "{{type}}", "refId": "A"}],
            "title": "Error Rate",
            "type": "timeseries"
        },
        {
            "collapsed": false,
            "gridPos": {"h": 1, "w": 24, "x": 0, "y": 20},
            "id": 102,
            "panels": [],
            "title": "Financial Metrics (Business)",
            "type": "row"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {
                "defaults": {
                    "mappings": [],
                    "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]},
                    "unit": "currencyUSD"
                }
            },
            "gridPos": {"h": 4, "w": 6, "x": 0, "y": 21},
            "id": 20,
            "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
            "targets": [{"expr": "sum(wordle_deposits_total_amount)", "refId": "A"}],
            "title": "Total Deposits",
            "type": "stat"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {
                "defaults": {
                    "mappings": [],
                    "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}]},
                    "unit": "currencyUSD"
                }
            },
            "gridPos": {"h": 4, "w": 6, "x": 6, "y": 21},
            "id": 22,
            "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
            "targets": [{"expr": "sum(wordle_withdrawals_total_amount)", "refId": "A"}],
            "title": "Total Withdrawals",
            "type": "stat"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {
                "defaults": {
                    "mappings": [],
                    "thresholds": {"mode": "absolute", "steps": [{"color": "purple", "value": null}]},
                    "unit": "currencyUSD"
                }
            },
            "gridPos": {"h": 4, "w": 6, "x": 12, "y": 21},
            "id": 24,
            "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
            "targets": [{"expr": "sum(wordle_commissions_total_amount)", "refId": "A"}],
            "title": "Total Revenue (Commissions)",
            "type": "stat"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {
                "defaults": {
                    "mappings": [],
                    "thresholds": {"mode": "absolute", "steps": [{"color": "yellow", "value": null}]}
                }
            },
            "gridPos": {"h": 4, "w": 6, "x": 18, "y": 21},
            "id": 26,
            "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
            "targets": [{"expr": "wordle_pending_withdrawals", "refId": "A"}],
            "title": "Pending Withdrawals",
            "type": "stat"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {"defaults": {"unit": "currencyUSD"}, "overrides": []},
            "gridPos": {"h": 6, "w": 8, "x": 0, "y": 25},
            "id": 28,
            "targets": [
                {"expr": "sum by (currency) (wordle_deposits_total_amount)", "legendFormat": "Deposits {{currency}}", "refId": "A"},
                {"expr": "sum by (currency) (wordle_withdrawals_total_amount)", "legendFormat": "Withdrawals {{currency}}", "refId": "B"}
            ],
            "title": "Deposits vs Withdrawals by Currency",
            "type": "timeseries"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {"defaults": {"unit": "currencyUSD"}, "overrides": []},
            "gridPos": {"h": 6, "w": 8, "x": 8, "y": 25},
            "id": 30,
            "targets": [
                {"expr": "sum by (currency) (wordle_bets_total_amount)", "legendFormat": "Bets {{currency}}", "refId": "A"},
                {"expr": "sum by (currency) (wordle_rewards_total_amount)", "legendFormat": "Rewards {{currency}}", "refId": "B"}
            ],
            "title": "Bets vs Rewards by Currency",
            "type": "timeseries"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {"defaults": {"unit": "currencyUSD"}, "overrides": []},
            "gridPos": {"h": 6, "w": 8, "x": 16, "y": 25},
            "id": 32,
            "targets": [{"expr": "sum by (currency) (wordle_total_users_balance)", "legendFormat": "{{currency}}", "refId": "A"}],
            "title": "Total Users Balance by Currency",
            "type": "timeseries"
        },
        {
            "collapsed": false,
            "gridPos": {"h": 1, "w": 24, "x": 0, "y": 31},
            "id": 103,
            "panels": [],
            "title": "Transaction Counts",
            "type": "row"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {"defaults": {}, "overrides": []},
            "gridPos": {"h": 4, "w": 6, "x": 0, "y": 32},
            "id": 34,
            "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
            "targets": [{"expr": "sum(wordle_deposits_count)", "refId": "A"}],
            "title": "Deposit Count",
            "type": "stat"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {"defaults": {}, "overrides": []},
            "gridPos": {"h": 4, "w": 6, "x": 6, "y": 32},
            "id": 36,
            "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
            "targets": [{"expr": "sum(wordle_withdrawals_count)", "refId": "A"}],
            "title": "Withdrawal Count",
            "type": "stat"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {"defaults": {}, "overrides": []},
            "gridPos": {"h": 4, "w": 6, "x": 12, "y": 32},
            "id": 38,
            "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
            "targets": [{"expr": "sum(wordle_bets_count)", "refId": "A"}],
            "title": "Total Bets",
            "type": "stat"
        },
        {
            "datasource": "Prometheus",
            "fieldConfig": {"defaults": {}, "overrides": []},
            "gridPos": {"h": 4, "w": 6, "x": 18, "y": 32},
            "id": 40,
            "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "auto", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false}, "textMode": "auto"},
            "targets": [{"expr": "sum(wordle_rewards_count)", "refId": "A"}],
            "title": "Total Rewards Paid",
            "type": "stat"
        },
        {
            "collapsed": false,
            "gridPos": {"h": 1, "w": 24, "x": 0, "y": 36},
            "id": 104,
            "panels": [],
            "title": "Application Logs",
            "type": "row"
        },
        {
            "datasource": "Loki",
            "gridPos": {"h": 10, "w": 24, "x": 0, "y": 37},
            "id": 50,
            "options": {
                "dedupStrategy": "none",
                "enableLogDetails": true,
                "prettifyLogMessage": false,
                "showCommonLabels": false,
                "showLabels": false,
                "showTime": true,
                "sortOrder": "Descending",
                "wrapLogMessage": false
            },
            "targets": [
                {
                    "expr": "{job=\"wordle\"} |= ``",
                    "legendFormat": "",
                    "refId": "A"
                }
            ],
            "title": "Application Logs",
            "type": "logs"
        },
        {
            "datasource": "Loki",
            "gridPos": {"h": 6, "w": 12, "x": 0, "y": 47},
            "id": 52,
            "options": {
                "dedupStrategy": "none",
                "enableLogDetails": true,
                "prettifyLogMessage": false,
                "showCommonLabels": false,
                "showLabels": false,
                "showTime": true,
                "sortOrder": "Descending",
                "wrapLogMessage": false
            },
            "targets": [
                {
                    "expr": "{job=\"wordle\"} |= `error` | json",
                    "legendFormat": "",
                    "refId": "A"
                }
            ],
            "title": "Error Logs",
            "type": "logs"
        },
        {
            "datasource": "Loki",
            "fieldConfig": {"defaults": {}, "overrides": []},
            "gridPos": {"h": 6, "w": 12, "x": 12, "y": 47},
            "id": 54,
            "targets": [
                {
                    "expr": "sum by (level) (count_over_time({job=\"wordle\"} | json [5m]))",
                    "legendFormat": "{{level}}",
                    "refId": "A"
                }
            ],
            "title": "Log Level Distribution",
            "type": "timeseries"
        }
    ],
    "refresh": "10s",
    "schemaVersion": 30,
    "style": "dark",
    "tags": ["wordle", "betting", "observability"],
    "templating": {
        "list": []
    },
    "time": {
        "from": "now-1h",
        "to": "now"
    },
    "timepicker": {},
    "timezone": "",
    "title": "Wordle Betting Dashboard",
    "uid": "wordle",
    "version": 2
}
